<html>
<head>
	<script language="javaScript">
	
	var alpha = [ "a", 
	              "b",  
	              "c",  
	              "d",  
	              "e",  
	              "f",  
				  "g",
	              "h", 
	              "i",  
	              "j",  
	              "k",  
	              "l",  
	              "m",  
	              "n",  
	              "o",  
	              "p",  
	              "q",  
	              "r",  
	              "s",  
	              "t",  
	              "u",  
	              "v",  
	              "w",  
	              "x",  
	              "y",  
	              "z", 
	              " "
				];
			
	var scrambled = [ 
	              "l",
				  "d",
				  "r",
				  "i",
				  "b",
				  "s",
				  "f",
				  "n",
				  "t",
				  "a",
				  "p",
				  "u",
				  "h",
				  "x",
				  "w",
				  "g",
				  "o",
				  " ",
				  "y",
				  "m",
				  "c",
				  "q",
				  "k",
				  "v",
				  "j",
				  "e",
	              "z"
				];			

	var numberList;

	function secretMessage()
	{
		//What should the "Encrypt" button do if...
		//     ... the unencrypt text boxes has data, and the encrypt text box is empty?
		//     ... the encrypt text boxes has data, and the unencrypt text box is empty?
	
		//What conclusion can we make if...
		//     ... both text boxes are empty?
		//     ... both text boxes have data in them?
		
		
		// write code to test if unencrypt box is empty. Alert something.
		// Nested if statement
		if( document.getElementById("unencrypt").value == "" )// No data in the 1st box
		{
			if( document.getElementById("encrypt").value == "" )
			{
				alert("No data in either box");
			}
			else
			{
				document.getElementById("unencrypt").value = code1(false);
			}
			
		}
		else // Data is in the uncrypted box
	{
			if( document.getElementById("encrypt").value == "" )
			{
			document.getElementById("encrypt").value = code1(true);
			}
		else
		{
		alert("Data in both. Please clear both boxes");
		}
	}	
// Compound if statement &&--> AND || OR
/*
if( ( document.getElementById("unencrypt").value == "" ) && ( document.getElementById("encrypt").value == "" ) )
{
alert("Still no data in either box");
}
*/

}

function code1( amIencrypting )
{
var firstList;
var secondList;
var firstBox;

if( amIencrypting == true )
{
firstList = alpha;
secondList = scrambled;
firstBox = document.getElementById("unencrypt").value
}
else
{
firstList = scrambled;
secondList = alpha;
firstBox = document.getElementById("encrypt").value
}
numberList = new Array(firstBox.length)

var counter = 0;
while( counter < firstBox.length )
{
var let = firstBox.substr(counter,1);
var letIndex = firstList.indexOf(let);
numberList[counter] = letIndex;
counter++;

}
var counter = 0;
var answer = "";

while( counter < firstBox.length )
{

var numListValue = numberList[counter];
answer = answer + secondList[numListValue];

counter++;
}


return answer;

}

function clearBoxes()
{
//alert("Clearing ");
// Insert Hello into either text box
document.getElementById("unencrypt").value = "";
// Insert World into the other text box
document.getElementById("encrypt").value = "";
}


</script>
</head>
<body>
<body bgcolor="blue" link="blue" vlink="red">
<font color="white" face="Comic Sans MS" size="4">
<center>
<h1>My Encryption App 2</h1>
<br/><br/>
<a href="index.html">Go back to the amazing website </a>
<br/><br/>
<input type ="button" value="Encrypt" onClick="secretMessage()"/>
<input type ="button" value="Clear" onClick="clearBoxes()"/>
<br/><br/>

Unencrypted Message
<input type = "text" size="40" id="unencrypt"/>

<br/><br/>
Encrypted Message
<input type = "text" size="40" id="encrypt"/>
</center>
</body>
</html>